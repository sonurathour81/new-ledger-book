{"ast":null,"code":"var _jsxFileName = \"/home/lenovo-hoolime1/Desktop/sonu 22-01-2020/React Redux Projects without npm/ledger_book/src/component/login/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Field, formInputData, formValidation } from 'reactjs-input-validator';\nimport { useSelector, useDispatch } from 'react-redux';\nimport _ from 'lodash';\nimport { Redirect, Link } from 'react-router-dom';\nimport * as fun from '../../redux/actions/index';\nimport * as styl from '../../style';\nimport * as stylCls from './style';\n\nconst Login = props => {\n  const mapState = useSelector(state => state.userData);\n  const dispatch = useDispatch();\n  const [data, setData] = useState({});\n  const [shouldValidateInputs, setShouldValidateInputs] = useState('');\n\n  const handleChange = (event, inputValue, inputName, validationState, isRequired) => {\n    const value = event && event.target.value || inputValue;\n    data[inputName] = {\n      value,\n      validation: validationState,\n      isRequired\n    };\n    setData({ ...data\n    });\n  };\n\n  useEffect(() => {\n    dispatch(fun.displayDataInitial());\n  }, []);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const isFormValid = formValidation(data);\n\n    if (isFormValid) {\n      const logData = formInputData(data);\n      const objectLenght = Object.keys(mapState.userSignUpData).length;\n      const checkArry = objectLenght > 0 ? _.map(mapState.userSignUpData, (val, key) => {\n        return { ...val,\n          key: key\n        };\n      }) : alert(\"You have no Account!\");\n      const xyz = objectLenght > 0 && checkArry.filter((val, key) => {\n        if (val.email === logData.email && val.password === logData.password) {\n          return val;\n        }\n      });\n\n      if (xyz !== false) {\n        if (xyz.length !== 0) {\n          localStorage.setItem(\"LogedUser\", JSON.stringify(xyz));\n          localStorage.setItem(\"Token\", Date.now());\n          const getlogiedItem = JSON.parse(localStorage.getItem(\"LogedUser\"));\n          dispatch(fun.logedInData(getlogiedItem));\n          dispatch(fun.tokenLogin({\n            \"Token\": Date.now()\n          }));\n          return props.history.push('/');\n        } else {\n          alert(\"Credential is wrong! Please try again\");\n        }\n      }\n    } else {\n      setShouldValidateInputs(!isFormValid);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(styl.ManForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(styl.ManFormSec, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(styl.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"SignIn\"), /*#__PURE__*/React.createElement(\"form\", {\n    class: \"ui form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(stylCls.CustmFormField, {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    validator: \"isEmail\",\n    required: true,\n    label: \"Email\",\n    name: \"email\",\n    placeholder: \"Example@gmail.com\",\n    onChange: handleChange,\n    value: data.email,\n    shouldValidateInputs: shouldValidateInputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(stylCls.CustmFormField, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    type: \"password\",\n    required: true,\n    label: \"Password\",\n    name: \"password\",\n    placeholder: \"*********\",\n    onChange: handleChange,\n    value: data.password,\n    shouldValidateInputs: shouldValidateInputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(stylCls.CustmButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    class: \"positive ui button\",\n    type: \"submit\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"clickableBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }, \"Click here to SignUp!\")))));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/lenovo-hoolime1/Desktop/sonu 22-01-2020/React Redux Projects without npm/ledger_book/src/component/login/index.js"],"names":["React","useState","useEffect","Field","formInputData","formValidation","useSelector","useDispatch","_","Redirect","Link","fun","styl","stylCls","Login","props","mapState","state","userData","dispatch","data","setData","shouldValidateInputs","setShouldValidateInputs","handleChange","event","inputValue","inputName","validationState","isRequired","value","target","validation","displayDataInitial","handleSubmit","preventDefault","isFormValid","logData","objectLenght","Object","keys","userSignUpData","length","checkArry","map","val","key","alert","xyz","filter","email","password","localStorage","setItem","JSON","stringify","Date","now","getlogiedItem","parse","getItem","logedInData","tokenLogin","history","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Field, formInputData, formValidation } from 'reactjs-input-validator';\nimport { useSelector, useDispatch } from 'react-redux';\nimport _ from 'lodash';\nimport  { Redirect,Link } from 'react-router-dom'\n\n\nimport * as fun from '../../redux/actions/index'\nimport * as styl from '../../style'\nimport * as stylCls from './style'\n\n\nconst Login = (props) => {\n\n  const mapState = useSelector(state => state.userData);\n  const dispatch = useDispatch();\n  \n  \n  const [data, setData] = useState({})\n  const [shouldValidateInputs, setShouldValidateInputs] = useState('')\n  \n  const handleChange = (event, inputValue, inputName, validationState, isRequired) => {\n    \n    const value = (event && event.target.value) || inputValue;\n    data[inputName] = { value, validation: validationState, isRequired };\n    setData({...data})\n  }\n  \n  useEffect(()=>{\n    dispatch(fun.displayDataInitial())\n    \n  }, [])\n  \n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const isFormValid = formValidation(data);\n    \n    if (isFormValid) {\n      const logData = formInputData(data)\n      const objectLenght = Object.keys(mapState.userSignUpData).length;\n\n\t\t\tconst checkArry = objectLenght > 0 ? _.map(mapState.userSignUpData, (val, key) => {\n\t\t\t\treturn {...val, key: key}\n\t\t\t}) : (alert(\"You have no Account!\"))\n\n\t\t\tconst xyz = objectLenght > 0 && checkArry.filter((val,key) => {\n\t\t\t\tif(val.email === logData.email && val.password === logData.password){\n\t\t\t\t\treturn val\n\t\t\t\t}\n\t\t\t})\n      \n      if(xyz !== false){\n        if(xyz.length !== 0){\n          localStorage.setItem(\"LogedUser\",JSON.stringify(xyz));\n          localStorage.setItem(\"Token\", Date.now());\n          const getlogiedItem =  JSON.parse(localStorage.getItem(\"LogedUser\"))\n          dispatch(fun.logedInData(getlogiedItem))\n          dispatch(fun.tokenLogin({\"Token\": Date.now()}))\n          return props.history.push('/');\n        } else {\n          alert(\"Credential is wrong! Please try again\")\n        }\n      }\n\n    } else {\n      setShouldValidateInputs(!isFormValid)\n    }\n  }\n\n    return(\n      <styl.ManForm>\n        <styl.ManFormSec>\n          <styl.Header>\n            SignIn\n          </styl.Header>\n          <form class=\"ui form\" >\n            <stylCls.CustmFormField className=\"field\">\n              <Field\n                validator=\"isEmail\"\n                required\n                label=\"Email\"\n                name=\"email\"\n                placeholder=\"Example@gmail.com\"\n                onChange={handleChange}\n                value={data.email}\n                shouldValidateInputs={shouldValidateInputs}\n              />\n            </stylCls.CustmFormField>\n            <stylCls.CustmFormField>\n              <Field\n                type=\"password\"\n                required\n                label=\"Password\"\n                name=\"password\"\n                placeholder=\"*********\"\n                onChange={handleChange}\n                value={data.password}\n                shouldValidateInputs={shouldValidateInputs}\n              />            \n            </stylCls.CustmFormField>\n\n            <stylCls.CustmButton>\n              <button class=\"positive ui button\" type=\"submit\" onClick={handleSubmit} >Login</button>\n            </stylCls.CustmButton>\n            <p className=\"clickableBtn\">\n              <Link to=\"/signup\">Click here to SignUp!</Link>\n            </p>\n          </form>\n        </styl.ManFormSec>\n      </styl.ManForm>\n    )\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}