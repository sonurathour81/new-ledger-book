{"ast":null,"code":"import * as act from '../actionType';\nimport * as fun from '../actions/index';\nimport { all, takeEvery, put, call } from 'redux-saga/effects';\nimport { configDatabase } from '../../firebaseSetup';\nimport _ from 'lodash';\nimport { toast } from 'react-toastify';\nconst databaseLoginSignUp = configDatabase.database().ref(\"/login\");\nconst databaseCustomerData = configDatabase.database().ref(\"/customers\");\nconst databaseCustomerItem = configDatabase.database().ref(\"/customersItem\");\nconst databaseCustomerMoney = configDatabase.database().ref(\"/customersMoney\");\n\nconst getLoginSignUpData = () => new Promise(function (resolve, reject) {\n  databaseLoginSignUp.on('value', snapshot => {\n    resolve(snapshot.val());\n  });\n});\n\nconst getCustomerData = () => new Promise(function (resolve, reject) {\n  databaseCustomerData.on('value', snapshot => {\n    resolve(snapshot.val());\n  });\n});\n\nconst getCustomerItems = () => new Promise(function (resolve, reject) {\n  databaseCustomerItem.on('value', snapshot => {\n    resolve(snapshot.val());\n  });\n});\n\nconst getCustomerAmount = () => new Promise(function (resolve, reject) {\n  databaseCustomerMoney.on('value', snapshot => {\n    resolve(snapshot.val());\n  });\n});\n\nexport function* displayData() {\n  try {\n    const result = yield call(getLoginSignUpData);\n    yield put(fun.displayDataSuccess(result));\n  } catch (error) {\n    yield put(fun.displayDataError(error));\n  }\n}\nexport function* initialSignUpGen(data) {\n  try {\n    let x = databaseLoginSignUp.push(data.payload);\n    const out = {\n      [x.key]: { ...data.payload\n      }\n    };\n    yield put(fun.successSignUp(out));\n  } catch (error) {\n    yield put(fun.errorSignUp(error));\n  }\n}\nexport function* initalUpdateuserProfile(data) {\n  try {\n    const useRef = configDatabase.database().ref(`/login/${data.payload.key}`);\n    useRef.update(data.payload);\n    const temp = [{ ...data.payload\n    }];\n    localStorage.setItem(\"LogedUser\", JSON.stringify(temp));\n    yield put(fun.successUpdateUser(data));\n  } catch (error) {\n    yield put(fun.errorUpdateUser(error));\n  }\n}\nexport function* initalChangeUserPassword(data) {\n  try {\n    const useRef = configDatabase.database().ref(`/login/${data.payload.key}`);\n    useRef.update(data.payload);\n    const temp = [{ ...data.payload\n    }];\n    localStorage.setItem(\"LogedUser\", JSON.stringify(temp));\n    yield put(fun.successChangePasswordUser(data));\n  } catch (error) {\n    yield put(fun.errorChangePasswordUser(error));\n  }\n}\nexport function* initialCustomerGen(data) {\n  try {\n    let x = databaseCustomerData.push(data.payload);\n    const out = {\n      [x.key]: { ...data.payload,\n        \"customerId\": x.key\n      }\n    };\n    yield put(fun.successCustomerAdd(out));\n  } catch (error) {\n    yield put(fun.errorCustomerAdd(error));\n  }\n}\nexport function* displayCustomerData(data) {\n  try {\n    const result = yield call(getCustomerData);\n\n    const getCustData = _.map(result, (val, key) => {\n      return { ...val,\n        customerId: key\n      };\n    });\n\n    const logedCustData = getCustData.filter(val => {\n      if (val.logedUserId === data.payload) {\n        return val;\n      }\n    });\n    yield put(fun.displayCustomerDataSuccess(logedCustData));\n  } catch (error) {\n    yield put(fun.displayCustomerDataError(error));\n  }\n}\nexport function* deleteCustomer(data) {\n  try {\n    // Delete customer of this id start\n    const useRef = configDatabase.database().ref(`/customers/${data.payload.deleteId}`);\n    useRef.remove();\n    const allcust = yield call(getCustomerData);\n\n    const getCustData = _.map(allcust, (val, key) => {\n      return { ...val,\n        customerId: key\n      };\n    });\n\n    const logedCustData = getCustData.filter(val => {\n      if (val.logedUserId === data.payload.logedId) {\n        return val;\n      }\n    }); // Delete customer of this id end\n    // Delete customer items of this id start\n\n    const allitems = yield call(getCustomerItems);\n\n    const getCustDataitem = _.map(allitems, (val, key) => {\n      return { ...val,\n        customerDataId: key\n      };\n    });\n\n    const filteredCustomer = getCustDataitem.filter(val => {\n      if (val.customerId === data.payload.deleteId) {\n        return val;\n      }\n    });\n    filteredCustomer && filteredCustomer.map(val => {\n      const useRef = configDatabase.database().ref(`/customersItem/${val.customerDataId}`);\n      return useRef.remove();\n    }); // Delete customer items of this id end\n    // Delete customer Money of this id start\n\n    const allMoney = yield call(getCustomerAmount);\n\n    const getCustDataMoney = _.map(allMoney, (val, key) => {\n      return { ...val,\n        customerMoneyId: key\n      };\n    });\n\n    const filteredMoney = getCustDataMoney.filter(val => {\n      if (val.customerId === data.payload.deleteId) {\n        return val;\n      }\n    });\n    filteredMoney && filteredMoney.map(val => {\n      const useRef = configDatabase.database().ref(`/customersMoney/${val.customerMoneyId}`);\n      return useRef.remove();\n    }); // Delete customer Money of this id end\n\n    yield put(fun.deleteCustomerSuccess(logedCustData));\n  } catch (error) {\n    yield put(fun.deleteCustomerError(error));\n  }\n}\nexport function* updateCustomer(data) {\n  try {\n    const {\n      customerId,\n      logedUserId\n    } = data.payload;\n    const useRef = configDatabase.database().ref(`/customers/${customerId}`);\n    useRef.update(data.payload);\n    const result = yield call(getCustomerData);\n\n    const getCustData = _.map(result, (val, key) => {\n      return { ...val,\n        customerId: key\n      };\n    });\n\n    const logedCustData = getCustData.filter(val => {\n      if (val.logedUserId === logedUserId) {\n        return val;\n      }\n    });\n    yield put(fun.updateCustomerSuccess(logedCustData));\n  } catch (error) {\n    yield put(fun.updateCustomerError(error));\n  }\n}\nexport function* addItemsOfCustomer(data) {\n  try {\n    const result = yield call(getCustomerItems);\n\n    const getCustMoneyData = _.map(result, (val, key) => {\n      return { ...val,\n        customerItemsId: key\n      };\n    });\n\n    const xyz = getCustMoneyData.filter(val => {\n      if (val.customerId === data.payload.customerId) {\n        return val;\n      }\n    });\n    let newObj2 = {};\n\n    if (xyz.length > 0) {\n      xyz.map(val => {\n        const newobj = [...val.totalItems, ...data.payload.totalItems];\n        const temp = {\n          customerId: val.customerId,\n          totalItems: [...newobj]\n        };\n        const useRef = configDatabase.database().ref(`/customersItem/${val.customerItemsId}`);\n        useRef.update(temp);\n        newObj2 = { ...temp,\n          customerItemsId: val.customerItemsId\n        };\n      });\n    } else {\n      let x = databaseCustomerItem.push(data.payload);\n      newObj2 = { ...data.payload,\n        customerItemsId: x.key\n      };\n    }\n\n    yield put(fun.addItemsSuccess(newObj2));\n  } catch (error) {\n    yield put(fun.addItemsError(error));\n  }\n}\nexport function* getItemsOfCustomer(data) {\n  try {\n    const clickedCustomer = JSON.parse(localStorage.getItem(\"Clicked_User_Data\")) || [];\n    const result = yield call(getCustomerItems);\n\n    const getCustData = _.map(result, (val, key) => {\n      return { ...val,\n        customerDataId: key\n      };\n    });\n\n    const filteredCustomer = getCustData.filter(val => {\n      if (val.customerId === clickedCustomer.customerId) {\n        return val;\n      }\n    });\n    yield put(fun.getItemsSuccess(filteredCustomer));\n  } catch (error) {\n    yield put(fun.getItemsError(error));\n  }\n}\nexport function* addMoneyofCustomer(data) {\n  try {\n    const result = yield call(getCustomerAmount);\n\n    const getCustMoneyData = _.map(result, (val, key) => {\n      return { ...val,\n        customerMoneyId: key\n      };\n    });\n\n    const xyz = getCustMoneyData.filter(val => {\n      if (val.customerId === data.payload.customerId) {\n        return val;\n      }\n    });\n    let newObj2 = {};\n\n    if (xyz.length > 0) {\n      xyz.map(val => {\n        const newobj = [...val.totAmount, ...data.payload.totAmount];\n        newObj2 = {\n          customerId: val.customerId,\n          totAmount: [...newobj]\n        };\n        const useRef = configDatabase.database().ref(`/customersMoney/${val.customerMoneyId}`);\n        useRef.update(newObj2);\n      });\n    } else {\n      databaseCustomerMoney.push(data.payload);\n      newObj2 = {\n        customerId: data.payload.customerId,\n        totAmount: [...data.payload.totAmount]\n      };\n    }\n\n    yield put(fun.addMoneySuccess(newObj2));\n  } catch (error) {\n    yield put(fun.addMoneyError(error));\n  }\n}\nexport function* getMoneyofCustomer(data) {\n  try {\n    const clickedCustomer = JSON.parse(localStorage.getItem(\"Clicked_User_Data\")) || [];\n    const result = yield call(getCustomerAmount);\n\n    const getCustMoneyData = _.map(result, (val, key) => {\n      return { ...val,\n        customerMoneyId: key\n      };\n    });\n\n    const finalRes = getCustMoneyData.filter(val => {\n      if (val.customerId === clickedCustomer.customerId) {\n        return val;\n      }\n    });\n    yield put(fun.getMoneySuccess(finalRes));\n  } catch (error) {\n    yield put(fun.getMoneyError(error));\n  }\n}\nexport function* watcherSaga() {\n  yield takeEvery(act.CREATE_INITIAL_SIGNUP, initialSignUpGen);\n  yield takeEvery(act.ON_FORM_DISPLAY_INITIAL, displayData);\n  yield takeEvery(act.ADD_CUSTOMER_INITIAL, initialCustomerGen);\n  yield takeEvery(act.DISPLAY_CUSTOMER_DATA_INITIAL, displayCustomerData);\n  yield takeEvery(act.DELETE_CUSTOMER_INITIAL, deleteCustomer);\n  yield takeEvery(act.UPDATE_CUSTOMER_INITIAL, updateCustomer);\n  yield takeEvery(act.ADD_ITEMS_OF_CUSTOMER_INITIAL, addItemsOfCustomer);\n  yield takeEvery(act.GET_ITEMS_OF_CUSTOMER_INITIAL, getItemsOfCustomer);\n  yield takeEvery(act.ADD_MONEY_OF_CUSTOMER_INITIAL, addMoneyofCustomer);\n  yield takeEvery(act.GET_MONEY_OF_CUSTOMER_INITIAL, getMoneyofCustomer);\n  yield takeEvery(act.UPDATE_USER_PRFILE_INITIAL, initalUpdateuserProfile);\n  yield takeEvery(act.CHANGE_USER_PASSWORD_INITIAL, initalChangeUserPassword);\n}\nexport default function* rootSaga() {\n  yield all([watcherSaga()]);\n}","map":{"version":3,"sources":["/home/lenovo-hoolime1/Desktop/sonu 22-01-2020/React Redux Projects without npm/ledger_book/src/redux/saga/index.js"],"names":["act","fun","all","takeEvery","put","call","configDatabase","_","toast","databaseLoginSignUp","database","ref","databaseCustomerData","databaseCustomerItem","databaseCustomerMoney","getLoginSignUpData","Promise","resolve","reject","on","snapshot","val","getCustomerData","getCustomerItems","getCustomerAmount","displayData","result","displayDataSuccess","error","displayDataError","initialSignUpGen","data","x","push","payload","out","key","successSignUp","errorSignUp","initalUpdateuserProfile","useRef","update","temp","localStorage","setItem","JSON","stringify","successUpdateUser","errorUpdateUser","initalChangeUserPassword","successChangePasswordUser","errorChangePasswordUser","initialCustomerGen","successCustomerAdd","errorCustomerAdd","displayCustomerData","getCustData","map","customerId","logedCustData","filter","logedUserId","displayCustomerDataSuccess","displayCustomerDataError","deleteCustomer","deleteId","remove","allcust","logedId","allitems","getCustDataitem","customerDataId","filteredCustomer","allMoney","getCustDataMoney","customerMoneyId","filteredMoney","deleteCustomerSuccess","deleteCustomerError","updateCustomer","updateCustomerSuccess","updateCustomerError","addItemsOfCustomer","getCustMoneyData","customerItemsId","xyz","newObj2","length","newobj","totalItems","addItemsSuccess","addItemsError","getItemsOfCustomer","clickedCustomer","parse","getItem","getItemsSuccess","getItemsError","addMoneyofCustomer","totAmount","addMoneySuccess","addMoneyError","getMoneyofCustomer","finalRes","getMoneySuccess","getMoneyError","watcherSaga","CREATE_INITIAL_SIGNUP","ON_FORM_DISPLAY_INITIAL","ADD_CUSTOMER_INITIAL","DISPLAY_CUSTOMER_DATA_INITIAL","DELETE_CUSTOMER_INITIAL","UPDATE_CUSTOMER_INITIAL","ADD_ITEMS_OF_CUSTOMER_INITIAL","GET_ITEMS_OF_CUSTOMER_INITIAL","ADD_MONEY_OF_CUSTOMER_INITIAL","GET_MONEY_OF_CUSTOMER_INITIAL","UPDATE_USER_PRFILE_INITIAL","CHANGE_USER_PASSWORD_INITIAL","rootSaga"],"mappings":"AAAA,OAAO,KAAKA,GAAZ,MAAqB,eAArB;AACA,OAAO,KAAKC,GAAZ,MAAqB,kBAArB;AACA,SAASC,GAAT,EAAcC,SAAd,EAAyBC,GAAzB,EAA8BC,IAA9B,QAAyC,oBAAzC;AACA,SAAQC,cAAR,QAA6B,qBAA7B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,SAASC,KAAT,QAAsB,gBAAtB;AAEA,MAAMC,mBAAmB,GAAGH,cAAc,CAACI,QAAf,GAA0BC,GAA1B,CAA8B,QAA9B,CAA5B;AACA,MAAMC,oBAAoB,GAAGN,cAAc,CAACI,QAAf,GAA0BC,GAA1B,CAA8B,YAA9B,CAA7B;AACA,MAAME,oBAAoB,GAAGP,cAAc,CAACI,QAAf,GAA0BC,GAA1B,CAA8B,gBAA9B,CAA7B;AACA,MAAMG,qBAAqB,GAAGR,cAAc,CAACI,QAAf,GAA0BC,GAA1B,CAA8B,iBAA9B,CAA9B;;AAEA,MAAMI,kBAAkB,GAAG,MAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AACpET,EAAAA,mBAAmB,CAACU,EAApB,CAAuB,OAAvB,EAA+BC,QAAQ,IAAE;AACrCH,IAAAA,OAAO,CAACG,QAAQ,CAACC,GAAT,EAAD,CAAP;AACH,GAFD;AAGH,CAJiC,CAAlC;;AAMA,MAAMC,eAAe,GAAG,MAAO,IAAIN,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AACjEN,EAAAA,oBAAoB,CAACO,EAArB,CAAwB,OAAxB,EAAgCC,QAAQ,IAAE;AACtCH,IAAAA,OAAO,CAACG,QAAQ,CAACC,GAAT,EAAD,CAAP;AACH,GAFD;AAGH,CAJ8B,CAA/B;;AAMA,MAAME,gBAAgB,GAAG,MAAO,IAAIP,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAClEL,EAAAA,oBAAoB,CAACM,EAArB,CAAwB,OAAxB,EAAgCC,QAAQ,IAAE;AACtCH,IAAAA,OAAO,CAACG,QAAQ,CAACC,GAAT,EAAD,CAAP;AACH,GAFD;AAGH,CAJ+B,CAAhC;;AAMA,MAAMG,iBAAiB,GAAG,MAAO,IAAIR,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AACnEJ,EAAAA,qBAAqB,CAACK,EAAtB,CAAyB,OAAzB,EAAiCC,QAAQ,IAAE;AACvCH,IAAAA,OAAO,CAACG,QAAQ,CAACC,GAAT,EAAD,CAAP;AACH,GAFD;AAGH,CAJgC,CAAjC;;AAOA,OAAO,UAAUI,WAAV,GAAuB;AAC1B,MAAG;AACC,UAAMC,MAAM,GAAG,MAAMrB,IAAI,CAACU,kBAAD,CAAzB;AACA,UAAMX,GAAG,CAACH,GAAG,CAAC0B,kBAAJ,CAAuBD,MAAvB,CAAD,CAAT;AACH,GAHD,CAGC,OAAME,KAAN,EAAY;AACT,UAAMxB,GAAG,CAACH,GAAG,CAAC4B,gBAAJ,CAAqBD,KAArB,CAAD,CAAT;AACH;AACJ;AAED,OAAO,UAAUE,gBAAV,CAA2BC,IAA3B,EAAgC;AACnC,MAAG;AACC,QAAIC,CAAC,GAAGvB,mBAAmB,CAACwB,IAApB,CAAyBF,IAAI,CAACG,OAA9B,CAAR;AACA,UAAMC,GAAG,GAAG;AAAE,OAACH,CAAC,CAACI,GAAH,GAAS,EAAE,GAAGL,IAAI,CAACG;AAAV;AAAX,KAAZ;AACA,UAAM9B,GAAG,CAACH,GAAG,CAACoC,aAAJ,CAAkBF,GAAlB,CAAD,CAAT;AAEH,GALD,CAKC,OAAMP,KAAN,EAAY;AAET,UAAMxB,GAAG,CAACH,GAAG,CAACqC,WAAJ,CAAgBV,KAAhB,CAAD,CAAT;AAEH;AAEJ;AAED,OAAO,UAAUW,uBAAV,CAAkCR,IAAlC,EAAuC;AAC1C,MAAG;AACC,UAAMS,MAAM,GAAGlC,cAAc,CAACI,QAAf,GAA0BC,GAA1B,CAA+B,UAASoB,IAAI,CAACG,OAAL,CAAaE,GAAI,EAAzD,CAAf;AACAI,IAAAA,MAAM,CAACC,MAAP,CAAcV,IAAI,CAACG,OAAnB;AACA,UAAMQ,IAAI,GAAG,CAAC,EAAC,GAAGX,IAAI,CAACG;AAAT,KAAD,CAAb;AACAS,IAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAjC;AACA,UAAMtC,GAAG,CAACH,GAAG,CAAC8C,iBAAJ,CAAsBhB,IAAtB,CAAD,CAAT;AACH,GAND,CAMC,OAAMH,KAAN,EAAY;AACT,UAAMxB,GAAG,CAACH,GAAG,CAAC+C,eAAJ,CAAoBpB,KAApB,CAAD,CAAT;AACH;AACJ;AAED,OAAO,UAAUqB,wBAAV,CAAmClB,IAAnC,EAAwC;AAC3C,MAAG;AACC,UAAMS,MAAM,GAAGlC,cAAc,CAACI,QAAf,GAA0BC,GAA1B,CAA+B,UAASoB,IAAI,CAACG,OAAL,CAAaE,GAAI,EAAzD,CAAf;AACAI,IAAAA,MAAM,CAACC,MAAP,CAAcV,IAAI,CAACG,OAAnB;AACA,UAAMQ,IAAI,GAAG,CAAC,EAAC,GAAGX,IAAI,CAACG;AAAT,KAAD,CAAb;AACAS,IAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAAjC;AACA,UAAMtC,GAAG,CAACH,GAAG,CAACiD,yBAAJ,CAA8BnB,IAA9B,CAAD,CAAT;AACH,GAND,CAMC,OAAMH,KAAN,EAAY;AACT,UAAMxB,GAAG,CAACH,GAAG,CAACkD,uBAAJ,CAA4BvB,KAA5B,CAAD,CAAT;AACH;AACJ;AAED,OAAO,UAAUwB,kBAAV,CAA6BrB,IAA7B,EAAkC;AACrC,MAAG;AACC,QAAIC,CAAC,GAAGpB,oBAAoB,CAACqB,IAArB,CAA0BF,IAAI,CAACG,OAA/B,CAAR;AACA,UAAMC,GAAG,GAAG;AAAE,OAACH,CAAC,CAACI,GAAH,GAAS,EAAE,GAAGL,IAAI,CAACG,OAAV;AAAmB,sBAAcF,CAAC,CAACI;AAAnC;AAAX,KAAZ;AACA,UAAMhC,GAAG,CAACH,GAAG,CAACoD,kBAAJ,CAAuBlB,GAAvB,CAAD,CAAT;AAEH,GALD,CAKC,OAAMP,KAAN,EAAY;AAET,UAAMxB,GAAG,CAACH,GAAG,CAACqD,gBAAJ,CAAqB1B,KAArB,CAAD,CAAT;AAEH;AACJ;AAED,OAAO,UAAU2B,mBAAV,CAA8BxB,IAA9B,EAAmC;AACtC,MAAG;AACC,UAAML,MAAM,GAAG,MAAMrB,IAAI,CAACiB,eAAD,CAAzB;;AACA,UAAMkC,WAAW,GAAIjD,CAAC,CAACkD,GAAF,CAAM/B,MAAN,EAAa,CAACL,GAAD,EAAKe,GAAL,KAAW;AACzC,aAAO,EAAC,GAAGf,GAAJ;AAASqC,QAAAA,UAAU,EAACtB;AAApB,OAAP;AACH,KAFoB,CAArB;;AAGA,UAAMuB,aAAa,GAAGH,WAAW,CAACI,MAAZ,CAAoBvC,GAAD,IAAO;AAC5C,UAAGA,GAAG,CAACwC,WAAJ,KAAoB9B,IAAI,CAACG,OAA5B,EAAoC;AAChC,eAAOb,GAAP;AACH;AACJ,KAJqB,CAAtB;AAKA,UAAMjB,GAAG,CAACH,GAAG,CAAC6D,0BAAJ,CAA+BH,aAA/B,CAAD,CAAT;AACH,GAXD,CAWC,OAAM/B,KAAN,EAAY;AACT,UAAMxB,GAAG,CAACH,GAAG,CAAC8D,wBAAJ,CAA6BnC,KAA7B,CAAD,CAAT;AACH;AACJ;AAED,OAAO,UAAUoC,cAAV,CAAyBjC,IAAzB,EAA8B;AACjC,MAAG;AACC;AACA,UAAMS,MAAM,GAAGlC,cAAc,CAACI,QAAf,GAA0BC,GAA1B,CAA+B,cAAaoB,IAAI,CAACG,OAAL,CAAa+B,QAAS,EAAlE,CAAf;AACAzB,IAAAA,MAAM,CAAC0B,MAAP;AAEA,UAAMC,OAAO,GAAG,MAAM9D,IAAI,CAACiB,eAAD,CAA1B;;AACA,UAAMkC,WAAW,GAAIjD,CAAC,CAACkD,GAAF,CAAMU,OAAN,EAAc,CAAC9C,GAAD,EAAKe,GAAL,KAAW;AAC1C,aAAO,EAAC,GAAGf,GAAJ;AAASqC,QAAAA,UAAU,EAACtB;AAApB,OAAP;AACH,KAFoB,CAArB;;AAGA,UAAMuB,aAAa,GAAGH,WAAW,CAACI,MAAZ,CAAoBvC,GAAD,IAAO;AAC5C,UAAGA,GAAG,CAACwC,WAAJ,KAAoB9B,IAAI,CAACG,OAAL,CAAakC,OAApC,EAA4C;AACxC,eAAO/C,GAAP;AACH;AACJ,KAJqB,CAAtB,CATD,CAcC;AAEA;;AACA,UAAMgD,QAAQ,GAAG,MAAMhE,IAAI,CAACkB,gBAAD,CAA3B;;AAEA,UAAM+C,eAAe,GAAI/D,CAAC,CAACkD,GAAF,CAAMY,QAAN,EAAe,CAAChD,GAAD,EAAKe,GAAL,KAAW;AAC/C,aAAO,EAAC,GAAGf,GAAJ;AAASkD,QAAAA,cAAc,EAACnC;AAAxB,OAAP;AACH,KAFwB,CAAzB;;AAIA,UAAMoC,gBAAgB,GAAGF,eAAe,CAACV,MAAhB,CAAwBvC,GAAD,IAAS;AACrD,UAAGA,GAAG,CAACqC,UAAJ,KAAmB3B,IAAI,CAACG,OAAL,CAAa+B,QAAnC,EAA4C;AACxC,eAAO5C,GAAP;AACH;AACJ,KAJwB,CAAzB;AAMAmD,IAAAA,gBAAgB,IAAIA,gBAAgB,CAACf,GAAjB,CAAsBpC,GAAD,IAAS;AAC9C,YAAMmB,MAAM,GAAGlC,cAAc,CAACI,QAAf,GAA0BC,GAA1B,CAA+B,kBAAiBU,GAAG,CAACkD,cAAe,EAAnE,CAAf;AACA,aAAO/B,MAAM,CAAC0B,MAAP,EAAP;AACH,KAHmB,CAApB,CA7BD,CAiCC;AAEA;;AACA,UAAMO,QAAQ,GAAG,MAAMpE,IAAI,CAACmB,iBAAD,CAA3B;;AAEA,UAAMkD,gBAAgB,GAAInE,CAAC,CAACkD,GAAF,CAAMgB,QAAN,EAAe,CAACpD,GAAD,EAAKe,GAAL,KAAW;AAChD,aAAO,EAAC,GAAGf,GAAJ;AAASsD,QAAAA,eAAe,EAACvC;AAAzB,OAAP;AACH,KAFyB,CAA1B;;AAIA,UAAMwC,aAAa,GAAGF,gBAAgB,CAACd,MAAjB,CAAyBvC,GAAD,IAAS;AACnD,UAAGA,GAAG,CAACqC,UAAJ,KAAmB3B,IAAI,CAACG,OAAL,CAAa+B,QAAnC,EAA4C;AACxC,eAAO5C,GAAP;AACH;AACJ,KAJqB,CAAtB;AAMAuD,IAAAA,aAAa,IAAIA,aAAa,CAACnB,GAAd,CAAmBpC,GAAD,IAAS;AACxC,YAAMmB,MAAM,GAAGlC,cAAc,CAACI,QAAf,GAA0BC,GAA1B,CAA+B,mBAAkBU,GAAG,CAACsD,eAAgB,EAArE,CAAf;AACA,aAAOnC,MAAM,CAAC0B,MAAP,EAAP;AACH,KAHgB,CAAjB,CAhDD,CAoDC;;AAEA,UAAM9D,GAAG,CAACH,GAAG,CAAC4E,qBAAJ,CAA0BlB,aAA1B,CAAD,CAAT;AACH,GAvDD,CAuDE,OAAM/B,KAAN,EAAa;AACX,UAAMxB,GAAG,CAACH,GAAG,CAAC6E,mBAAJ,CAAwBlD,KAAxB,CAAD,CAAT;AACH;AACJ;AAED,OAAO,UAAUmD,cAAV,CAAyBhD,IAAzB,EAA8B;AAEjC,MAAG;AACC,UAAM;AAAC2B,MAAAA,UAAD;AAAYG,MAAAA;AAAZ,QAA2B9B,IAAI,CAACG,OAAtC;AACA,UAAMM,MAAM,GAAGlC,cAAc,CAACI,QAAf,GAA0BC,GAA1B,CAA+B,cAAa+C,UAAW,EAAvD,CAAf;AACAlB,IAAAA,MAAM,CAACC,MAAP,CAAcV,IAAI,CAACG,OAAnB;AAEA,UAAMR,MAAM,GAAG,MAAMrB,IAAI,CAACiB,eAAD,CAAzB;;AACA,UAAMkC,WAAW,GAAIjD,CAAC,CAACkD,GAAF,CAAM/B,MAAN,EAAa,CAACL,GAAD,EAAKe,GAAL,KAAW;AACzC,aAAO,EAAC,GAAGf,GAAJ;AAASqC,QAAAA,UAAU,EAACtB;AAApB,OAAP;AACH,KAFoB,CAArB;;AAIA,UAAMuB,aAAa,GAAGH,WAAW,CAACI,MAAZ,CAAoBvC,GAAD,IAAO;AAC5C,UAAGA,GAAG,CAACwC,WAAJ,KAAoBA,WAAvB,EAAmC;AAC/B,eAAOxC,GAAP;AACH;AACJ,KAJqB,CAAtB;AAKA,UAAMjB,GAAG,CAACH,GAAG,CAAC+E,qBAAJ,CAA0BrB,aAA1B,CAAD,CAAT;AACH,GAhBD,CAgBE,OAAM/B,KAAN,EAAa;AACX,UAAMxB,GAAG,CAACH,GAAG,CAACgF,mBAAJ,CAAwBrD,KAAxB,CAAD,CAAT;AACH;AACJ;AAED,OAAO,UAAUsD,kBAAV,CAA6BnD,IAA7B,EAAkC;AACrC,MAAG;AAEC,UAAML,MAAM,GAAG,MAAMrB,IAAI,CAACkB,gBAAD,CAAzB;;AACA,UAAM4D,gBAAgB,GAAI5E,CAAC,CAACkD,GAAF,CAAM/B,MAAN,EAAa,CAACL,GAAD,EAAKe,GAAL,KAAW;AAC9C,aAAO,EAAC,GAAGf,GAAJ;AAAS+D,QAAAA,eAAe,EAAChD;AAAzB,OAAP;AACH,KAFyB,CAA1B;;AAIA,UAAMiD,GAAG,GAAGF,gBAAgB,CAACvB,MAAjB,CAAyBvC,GAAD,IAAO;AACvC,UAAGA,GAAG,CAACqC,UAAJ,KAAmB3B,IAAI,CAACG,OAAL,CAAawB,UAAnC,EAA8C;AAC1C,eAAOrC,GAAP;AACH;AACJ,KAJW,CAAZ;AAMA,QAAIiE,OAAO,GAAG,EAAd;;AACA,QAAGD,GAAG,CAACE,MAAJ,GAAa,CAAhB,EAAkB;AACdF,MAAAA,GAAG,CAAC5B,GAAJ,CAASpC,GAAD,IAAO;AACX,cAAMmE,MAAM,GAAG,CAAC,GAAGnE,GAAG,CAACoE,UAAR,EAAoB,GAAG1D,IAAI,CAACG,OAAL,CAAauD,UAApC,CAAf;AACA,cAAM/C,IAAI,GAAG;AAACgB,UAAAA,UAAU,EAAErC,GAAG,CAACqC,UAAjB;AAA6B+B,UAAAA,UAAU,EAAE,CAAC,GAAGD,MAAJ;AAAzC,SAAb;AACA,cAAMhD,MAAM,GAAGlC,cAAc,CAACI,QAAf,GAA0BC,GAA1B,CAA+B,kBAAiBU,GAAG,CAAC+D,eAAgB,EAApE,CAAf;AACA5C,QAAAA,MAAM,CAACC,MAAP,CAAcC,IAAd;AACA4C,QAAAA,OAAO,GAAG,EAAC,GAAG5C,IAAJ;AAAU0C,UAAAA,eAAe,EAAE/D,GAAG,CAAC+D;AAA/B,SAAV;AACH,OAND;AAOH,KARD,MAQK;AACD,UAAIpD,CAAC,GAAGnB,oBAAoB,CAACoB,IAArB,CAA0BF,IAAI,CAACG,OAA/B,CAAR;AACAoD,MAAAA,OAAO,GAAG,EAAC,GAAGvD,IAAI,CAACG,OAAT;AAAkBkD,QAAAA,eAAe,EAAEpD,CAAC,CAACI;AAArC,OAAV;AACH;;AAED,UAAMhC,GAAG,CAACH,GAAG,CAACyF,eAAJ,CAAoBJ,OAApB,CAAD,CAAT;AACH,GA5BD,CA4BC,OAAM1D,KAAN,EAAY;AACT,UAAMxB,GAAG,CAACH,GAAG,CAAC0F,aAAJ,CAAkB/D,KAAlB,CAAD,CAAT;AACH;AACJ;AAED,OAAO,UAAUgE,kBAAV,CAA6B7D,IAA7B,EAAkC;AACrC,MAAG;AACC,UAAM8D,eAAe,GAAGhD,IAAI,CAACiD,KAAL,CAAWnD,YAAY,CAACoD,OAAb,CAAqB,mBAArB,CAAX,KAAyD,EAAjF;AACA,UAAMrE,MAAM,GAAG,MAAMrB,IAAI,CAACkB,gBAAD,CAAzB;;AAEA,UAAMiC,WAAW,GAAIjD,CAAC,CAACkD,GAAF,CAAM/B,MAAN,EAAa,CAACL,GAAD,EAAKe,GAAL,KAAW;AACzC,aAAO,EAAC,GAAGf,GAAJ;AAASkD,QAAAA,cAAc,EAACnC;AAAxB,OAAP;AACH,KAFoB,CAArB;;AAIA,UAAMoC,gBAAgB,GAAGhB,WAAW,CAACI,MAAZ,CAAoBvC,GAAD,IAAS;AACjD,UAAGA,GAAG,CAACqC,UAAJ,KAAmBmC,eAAe,CAACnC,UAAtC,EAAiD;AAC7C,eAAOrC,GAAP;AACH;AACJ,KAJwB,CAAzB;AAKA,UAAMjB,GAAG,CAACH,GAAG,CAAC+F,eAAJ,CAAoBxB,gBAApB,CAAD,CAAT;AACH,GAdD,CAcC,OAAM5C,KAAN,EAAY;AACT,UAAMxB,GAAG,CAACH,GAAG,CAACgG,aAAJ,CAAkBrE,KAAlB,CAAD,CAAT;AACH;AACJ;AAED,OAAO,UAAUsE,kBAAV,CAA6BnE,IAA7B,EAAkC;AACrC,MAAG;AACC,UAAML,MAAM,GAAG,MAAMrB,IAAI,CAACmB,iBAAD,CAAzB;;AACA,UAAM2D,gBAAgB,GAAI5E,CAAC,CAACkD,GAAF,CAAM/B,MAAN,EAAa,CAACL,GAAD,EAAKe,GAAL,KAAW;AAC9C,aAAO,EAAC,GAAGf,GAAJ;AAASsD,QAAAA,eAAe,EAACvC;AAAzB,OAAP;AACH,KAFyB,CAA1B;;AAIA,UAAMiD,GAAG,GAAGF,gBAAgB,CAACvB,MAAjB,CAAyBvC,GAAD,IAAO;AACvC,UAAGA,GAAG,CAACqC,UAAJ,KAAmB3B,IAAI,CAACG,OAAL,CAAawB,UAAnC,EAA8C;AAC1C,eAAOrC,GAAP;AACH;AACJ,KAJW,CAAZ;AAMA,QAAIiE,OAAO,GAAG,EAAd;;AACA,QAAGD,GAAG,CAACE,MAAJ,GAAa,CAAhB,EAAkB;AACdF,MAAAA,GAAG,CAAC5B,GAAJ,CAASpC,GAAD,IAAO;AACX,cAAMmE,MAAM,GAAG,CAAC,GAAGnE,GAAG,CAAC8E,SAAR,EAAmB,GAAGpE,IAAI,CAACG,OAAL,CAAaiE,SAAnC,CAAf;AACAb,QAAAA,OAAO,GAAG;AAAC5B,UAAAA,UAAU,EAAErC,GAAG,CAACqC,UAAjB;AAA6ByC,UAAAA,SAAS,EAAE,CAAC,GAAGX,MAAJ;AAAxC,SAAV;AACA,cAAMhD,MAAM,GAAGlC,cAAc,CAACI,QAAf,GAA0BC,GAA1B,CAA+B,mBAAkBU,GAAG,CAACsD,eAAgB,EAArE,CAAf;AACAnC,QAAAA,MAAM,CAACC,MAAP,CAAc6C,OAAd;AACH,OALD;AAMH,KAPD,MAOK;AACDxE,MAAAA,qBAAqB,CAACmB,IAAtB,CAA2BF,IAAI,CAACG,OAAhC;AACAoD,MAAAA,OAAO,GAAG;AAAE5B,QAAAA,UAAU,EAAE3B,IAAI,CAACG,OAAL,CAAawB,UAA3B;AAAuCyC,QAAAA,SAAS,EAAE,CAAC,GAAGpE,IAAI,CAACG,OAAL,CAAaiE,SAAjB;AAAlD,OAAV;AACH;;AAED,UAAM/F,GAAG,CAACH,GAAG,CAACmG,eAAJ,CAAoBd,OAApB,CAAD,CAAT;AACH,GA1BD,CA0BC,OAAM1D,KAAN,EAAY;AACT,UAAMxB,GAAG,CAACH,GAAG,CAACoG,aAAJ,CAAkBzE,KAAlB,CAAD,CAAT;AACH;AACJ;AAED,OAAO,UAAU0E,kBAAV,CAA6BvE,IAA7B,EAAkC;AACrC,MAAG;AACC,UAAM8D,eAAe,GAAGhD,IAAI,CAACiD,KAAL,CAAWnD,YAAY,CAACoD,OAAb,CAAqB,mBAArB,CAAX,KAAyD,EAAjF;AACA,UAAMrE,MAAM,GAAG,MAAMrB,IAAI,CAACmB,iBAAD,CAAzB;;AACA,UAAM2D,gBAAgB,GAAI5E,CAAC,CAACkD,GAAF,CAAM/B,MAAN,EAAa,CAACL,GAAD,EAAKe,GAAL,KAAW;AAC9C,aAAO,EAAC,GAAGf,GAAJ;AAASsD,QAAAA,eAAe,EAACvC;AAAzB,OAAP;AACH,KAFyB,CAA1B;;AAIA,UAAMmE,QAAQ,GAAGpB,gBAAgB,CAACvB,MAAjB,CAAyBvC,GAAD,IAAO;AAC5C,UAAGA,GAAG,CAACqC,UAAJ,KAAmBmC,eAAe,CAACnC,UAAtC,EAAiD;AAC7C,eAAOrC,GAAP;AACH;AACJ,KAJgB,CAAjB;AAMA,UAAMjB,GAAG,CAACH,GAAG,CAACuG,eAAJ,CAAoBD,QAApB,CAAD,CAAT;AACH,GAdD,CAcC,OAAM3E,KAAN,EAAY;AACT,UAAMxB,GAAG,CAACH,GAAG,CAACwG,aAAJ,CAAkB7E,KAAlB,CAAD,CAAT;AACH;AACJ;AAED,OAAO,UAAW8E,WAAX,GAAwB;AAC3B,QAAMvG,SAAS,CAACH,GAAG,CAAC2G,qBAAL,EAA2B7E,gBAA3B,CAAf;AACA,QAAM3B,SAAS,CAACH,GAAG,CAAC4G,uBAAL,EAA6BnF,WAA7B,CAAf;AACA,QAAMtB,SAAS,CAACH,GAAG,CAAC6G,oBAAL,EAA0BzD,kBAA1B,CAAf;AACA,QAAMjD,SAAS,CAACH,GAAG,CAAC8G,6BAAL,EAAmCvD,mBAAnC,CAAf;AACA,QAAMpD,SAAS,CAACH,GAAG,CAAC+G,uBAAL,EAA6B/C,cAA7B,CAAf;AACA,QAAM7D,SAAS,CAACH,GAAG,CAACgH,uBAAL,EAA6BjC,cAA7B,CAAf;AACA,QAAM5E,SAAS,CAACH,GAAG,CAACiH,6BAAL,EAAmC/B,kBAAnC,CAAf;AACA,QAAM/E,SAAS,CAACH,GAAG,CAACkH,6BAAL,EAAmCtB,kBAAnC,CAAf;AACA,QAAMzF,SAAS,CAACH,GAAG,CAACmH,6BAAL,EAAmCjB,kBAAnC,CAAf;AACA,QAAM/F,SAAS,CAACH,GAAG,CAACoH,6BAAL,EAAmCd,kBAAnC,CAAf;AACA,QAAMnG,SAAS,CAACH,GAAG,CAACqH,0BAAL,EAAgC9E,uBAAhC,CAAf;AACA,QAAMpC,SAAS,CAACH,GAAG,CAACsH,4BAAL,EAAkCrE,wBAAlC,CAAf;AACH;AAED,eAAe,UAAWsE,QAAX,GAAqB;AAChC,QAAMrH,GAAG,CAAC,CACNwG,WAAW,EADL,CAAD,CAAT;AAGH","sourcesContent":["import * as act from '../actionType'\nimport * as fun from '../actions/index';\nimport { all, takeEvery, put ,call} from 'redux-saga/effects';\nimport {configDatabase} from '../../firebaseSetup';\nimport _ from 'lodash';\nimport { toast } from 'react-toastify';\n\nconst databaseLoginSignUp = configDatabase.database().ref(\"/login\");\nconst databaseCustomerData = configDatabase.database().ref(\"/customers\");\nconst databaseCustomerItem = configDatabase.database().ref(\"/customersItem\");\nconst databaseCustomerMoney = configDatabase.database().ref(\"/customersMoney\");\n\nconst getLoginSignUpData = () =>  new Promise(function(resolve, reject) {\n    databaseLoginSignUp.on('value',snapshot=>{\n        resolve(snapshot.val());\n    })\n});\n\nconst getCustomerData = () =>  new Promise(function(resolve, reject) {\n    databaseCustomerData.on('value',snapshot=>{\n        resolve(snapshot.val());\n    })\n});\n\nconst getCustomerItems = () =>  new Promise(function(resolve, reject) {\n    databaseCustomerItem.on('value',snapshot=>{\n        resolve(snapshot.val());\n    })\n});\n\nconst getCustomerAmount = () =>  new Promise(function(resolve, reject) {\n    databaseCustomerMoney.on('value',snapshot=>{\n        resolve(snapshot.val());\n    })\n});\n\n\nexport function* displayData(){\n    try{\n        const result = yield call(getLoginSignUpData)\n        yield put(fun.displayDataSuccess(result))\n    }catch(error){\n        yield put(fun.displayDataError(error))\n    }\n}\n\nexport function* initialSignUpGen(data){\n    try{\n        let x = databaseLoginSignUp.push(data.payload);\n        const out = { [x.key]: { ...data.payload }}\n        yield put(fun.successSignUp(out))\n\n    }catch(error){\n\n        yield put(fun.errorSignUp(error))\n\n    }\n\n}\n\nexport function* initalUpdateuserProfile(data){\n    try{\n        const useRef = configDatabase.database().ref(`/login/${data.payload.key}`);\n        useRef.update(data.payload);\n        const temp = [{...data.payload}]\n        localStorage.setItem(\"LogedUser\",JSON.stringify(temp));\n        yield put(fun.successUpdateUser(data))\n    }catch(error){\n        yield put(fun.errorUpdateUser(error))\n    }\n}\n\nexport function* initalChangeUserPassword(data){\n    try{\n        const useRef = configDatabase.database().ref(`/login/${data.payload.key}`);\n        useRef.update(data.payload);\n        const temp = [{...data.payload}]\n        localStorage.setItem(\"LogedUser\",JSON.stringify(temp));\n        yield put(fun.successChangePasswordUser(data))\n    }catch(error){\n        yield put(fun.errorChangePasswordUser(error))\n    }\n}\n\nexport function* initialCustomerGen(data){\n    try{\n        let x = databaseCustomerData.push(data.payload);\n        const out = { [x.key]: { ...data.payload, \"customerId\": x.key }}\n        yield put(fun.successCustomerAdd(out))\n\n    }catch(error){\n\n        yield put(fun.errorCustomerAdd(error))\n\n    }\n}\n\nexport function* displayCustomerData(data){\n    try{\n        const result = yield call(getCustomerData)\n        const getCustData =  _.map(result,(val,key)=>{\n            return {...val, customerId:key}\n        })\n        const logedCustData = getCustData.filter((val)=>{\n            if(val.logedUserId === data.payload){\n                return val\n            }            \n        })\n        yield put(fun.displayCustomerDataSuccess(logedCustData))\n    }catch(error){\n        yield put(fun.displayCustomerDataError(error))\n    }\n}\n\nexport function* deleteCustomer(data){\n    try{\n        // Delete customer of this id start\n        const useRef = configDatabase.database().ref(`/customers/${data.payload.deleteId}`);\n        useRef.remove();\n        \n        const allcust = yield call(getCustomerData)\n        const getCustData =  _.map(allcust,(val,key)=>{\n            return {...val, customerId:key}\n        })\n        const logedCustData = getCustData.filter((val)=>{\n            if(val.logedUserId === data.payload.logedId){\n                return val\n            }            \n        })\n        // Delete customer of this id end\n\n        // Delete customer items of this id start\n        const allitems = yield call(getCustomerItems)\n        \n        const getCustDataitem =  _.map(allitems,(val,key)=>{\n            return {...val, customerDataId:key}\n        })\n\n        const filteredCustomer = getCustDataitem.filter((val) => {\n            if(val.customerId === data.payload.deleteId){\n                return val\n            }\n        })\n\n        filteredCustomer && filteredCustomer.map((val) => {\n            const useRef = configDatabase.database().ref(`/customersItem/${val.customerDataId}`);\n            return useRef.remove();\n        })\n        // Delete customer items of this id end\n\n        // Delete customer Money of this id start\n        const allMoney = yield call(getCustomerAmount)\n\n        const getCustDataMoney =  _.map(allMoney,(val,key)=>{\n            return {...val, customerMoneyId:key}\n        })\n\n        const filteredMoney = getCustDataMoney.filter((val) => {\n            if(val.customerId === data.payload.deleteId){\n                return val\n            }\n        })\n\n        filteredMoney && filteredMoney.map((val) => {\n            const useRef = configDatabase.database().ref(`/customersMoney/${val.customerMoneyId}`);\n            return useRef.remove();\n        })\n        // Delete customer Money of this id end\n\n        yield put(fun.deleteCustomerSuccess(logedCustData))\n    } catch(error) {\n        yield put(fun.deleteCustomerError(error))\n    }\n}\n\nexport function* updateCustomer(data){\n    \n    try{\n        const {customerId,logedUserId} = data.payload;\n        const useRef = configDatabase.database().ref(`/customers/${customerId}`);\n        useRef.update(data.payload);\n        \n        const result = yield call(getCustomerData)\n        const getCustData =  _.map(result,(val,key)=>{\n            return {...val, customerId:key}\n        })\n        \n        const logedCustData = getCustData.filter((val)=>{\n            if(val.logedUserId === logedUserId){\n                return val\n            }            \n        })\n        yield put(fun.updateCustomerSuccess(logedCustData))\n    } catch(error) {\n        yield put(fun.updateCustomerError(error))\n    }\n}\n\nexport function* addItemsOfCustomer(data){\n    try{\n        \n        const result = yield call(getCustomerItems)\n        const getCustMoneyData =  _.map(result,(val,key)=>{\n            return {...val, customerItemsId:key}\n        })\n        \n        const xyz = getCustMoneyData.filter((val)=>{\n            if(val.customerId === data.payload.customerId){\n                return val\n            }\n        })\n        \n        let newObj2 = {};\n        if(xyz.length > 0){\n            xyz.map((val)=>{\n                const newobj = [...val.totalItems, ...data.payload.totalItems]\n                const temp = {customerId: val.customerId, totalItems: [...newobj]}\n                const useRef = configDatabase.database().ref(`/customersItem/${val.customerItemsId}`);\n                useRef.update(temp);\n                newObj2 = {...temp, customerItemsId: val.customerItemsId }\n            })\n        }else{\n            let x = databaseCustomerItem.push(data.payload);\n            newObj2 = {...data.payload, customerItemsId: x.key }\n        }\n        \n        yield put(fun.addItemsSuccess(newObj2))\n    }catch(error){\n        yield put(fun.addItemsError(error))\n    }\n}\n\nexport function* getItemsOfCustomer(data){\n    try{\n        const clickedCustomer = JSON.parse(localStorage.getItem(\"Clicked_User_Data\")) || []\n        const result = yield call(getCustomerItems)\n        \n        const getCustData =  _.map(result,(val,key)=>{\n            return {...val, customerDataId:key}\n        })\n\n        const filteredCustomer = getCustData.filter((val) => {\n            if(val.customerId === clickedCustomer.customerId){\n                return val\n            }\n        })\n        yield put(fun.getItemsSuccess(filteredCustomer))\n    }catch(error){\n        yield put(fun.getItemsError(error))\n    }\n}\n\nexport function* addMoneyofCustomer(data){\n    try{\n        const result = yield call(getCustomerAmount)\n        const getCustMoneyData =  _.map(result,(val,key)=>{\n            return {...val, customerMoneyId:key}\n        })\n        \n        const xyz = getCustMoneyData.filter((val)=>{\n            if(val.customerId === data.payload.customerId){\n                return val\n            }\n        })\n        \n        let newObj2 = {};\n        if(xyz.length > 0){\n            xyz.map((val)=>{\n                const newobj = [...val.totAmount, ...data.payload.totAmount]\n                newObj2 = {customerId: val.customerId, totAmount: [...newobj]}\n                const useRef = configDatabase.database().ref(`/customersMoney/${val.customerMoneyId}`);\n                useRef.update(newObj2);\n            })\n        }else{\n            databaseCustomerMoney.push(data.payload);\n            newObj2 = { customerId: data.payload.customerId, totAmount: [...data.payload.totAmount] }\n        }\n        \n        yield put(fun.addMoneySuccess(newObj2))\n    }catch(error){\n        yield put(fun.addMoneyError(error))\n    }\n}\n\nexport function* getMoneyofCustomer(data){\n    try{\n        const clickedCustomer = JSON.parse(localStorage.getItem(\"Clicked_User_Data\")) || []\n        const result = yield call(getCustomerAmount)\n        const getCustMoneyData =  _.map(result,(val,key)=>{\n            return {...val, customerMoneyId:key}\n        })\n        \n        const finalRes = getCustMoneyData.filter((val)=>{\n            if(val.customerId === clickedCustomer.customerId){\n                return val\n            }\n        })\n\n        yield put(fun.getMoneySuccess(finalRes))\n    }catch(error){\n        yield put(fun.getMoneyError(error))\n    }\n}\n\nexport function * watcherSaga(){\n    yield takeEvery(act.CREATE_INITIAL_SIGNUP,initialSignUpGen);\n    yield takeEvery(act.ON_FORM_DISPLAY_INITIAL,displayData);\n    yield takeEvery(act.ADD_CUSTOMER_INITIAL,initialCustomerGen);\n    yield takeEvery(act.DISPLAY_CUSTOMER_DATA_INITIAL,displayCustomerData);\n    yield takeEvery(act.DELETE_CUSTOMER_INITIAL,deleteCustomer);\n    yield takeEvery(act.UPDATE_CUSTOMER_INITIAL,updateCustomer);\n    yield takeEvery(act.ADD_ITEMS_OF_CUSTOMER_INITIAL,addItemsOfCustomer);\n    yield takeEvery(act.GET_ITEMS_OF_CUSTOMER_INITIAL,getItemsOfCustomer);\n    yield takeEvery(act.ADD_MONEY_OF_CUSTOMER_INITIAL,addMoneyofCustomer);\n    yield takeEvery(act.GET_MONEY_OF_CUSTOMER_INITIAL,getMoneyofCustomer);\n    yield takeEvery(act.UPDATE_USER_PRFILE_INITIAL,initalUpdateuserProfile);\n    yield takeEvery(act.CHANGE_USER_PASSWORD_INITIAL,initalChangeUserPassword);\n}\n\nexport default function * rootSaga(){\n    yield all([\n        watcherSaga(),\n    ])\n}"]},"metadata":{},"sourceType":"module"}