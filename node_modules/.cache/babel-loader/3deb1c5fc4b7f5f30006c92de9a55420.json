{"ast":null,"code":"var _jsxFileName = \"/home/lenovo-hoolime1/Desktop/sonu 22-01-2020/React Redux Projects without npm/ledger_book/src/component/myModal/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport _ from 'lodash';\nimport { Modal } from 'react-bootstrap';\nimport { CustmFormField, CustmButton, CustmHeader, CustmModal } from './style.js';\nimport * as fun from '../../redux/actions/index';\nimport \"./style.css\";\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport AddUser from '../addUser/index';\nexport const CommanModal = props => {\n  const mapState = useSelector(state => state);\n  const dispatch = useDispatch();\n  const [customerState, setCustomerState] = useState({});\n  const [clickedEmail, setClickedEmail] = useState('');\n  const [clickedPhone, setClickedPhone] = useState('');\n  useEffect(() => {\n    const getClickedData = JSON.parse(localStorage.getItem(\"User_Clicked__Data\")) || [];\n    setCustomerState({ ...getClickedData\n    });\n    setClickedPhone(getClickedData.cust_phone);\n    setClickedEmail(getClickedData.cust_email);\n  }, [mapState]);\n\n  const fieldHandle = e => {\n    e.preventDefault();\n    setCustomerState({ ...customerState,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const submitUpdate = e => {\n    e.preventDefault();\n    const objectLenght = Object.keys(mapState.customerData.customer).length;\n\n    const checkArry = objectLenght > 0 && _.map(mapState.customerData.customer, (val, key) => {\n      return val;\n    });\n\n    const xyz = objectLenght > 0 && checkArry.filter(val => {\n      if (val.cust_email === customerState.cust_email && val.cust_email !== clickedEmail && val.cust_phone === customerState.cust_phone && val.cust_phone !== clickedPhone) {\n        alert(\"This Email Id & Phone number is registred already! Please use another!\");\n        return val;\n      } else if (val.cust_email === customerState.cust_email && val.cust_email !== clickedEmail) {\n        alert(\"This Email Id is registred already! Please use another!\");\n        return val;\n      } else if (val.cust_phone === customerState.cust_phone && val.cust_phone !== clickedPhone) {\n        alert(\"This Phone Number is registred already! Please use another!\");\n        return val;\n      }\n    });\n\n    if (objectLenght !== 0) {\n      if (xyz.length === 0) {\n        dispatch(fun.updateCustomerInitial(customerState));\n        props.hideModal();\n        toast.success(\"User Updated Successfully!\");\n      }\n    }\n  };\n\n  useEffect(() => {\n    props.hideModal();\n  }, [mapState.customerData.addCustomerStatus]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CustmModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    show: props.showModal,\n    onHide: props.hideModal,\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(CustmHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 29\n    }\n  }, props.addCustomer ? 'Add Customer' : 'Update Customer'))), /*#__PURE__*/React.createElement(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, props.updateCustomer && /*#__PURE__*/React.createElement(\"form\", {\n    className: \"ui form\",\n    onSubmit: submitUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 55\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"two fields\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(CustmFormField, {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 41\n    }\n  }, \"Customer Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    required: true,\n    name: \"cust_name\",\n    onChange: e => {\n      fieldHandle(e);\n    },\n    value: customerState.cust_name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(CustmFormField, {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 41\n    }\n  }, \"Customer Email\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    required: true,\n    name: \"cust_email\",\n    onChange: e => {\n      fieldHandle(e);\n    },\n    value: customerState.cust_email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"two fields\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(CustmFormField, {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 41\n    }\n  }, \"Customer Phone\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    required: true,\n    name: \"cust_phone\",\n    value: customerState.cust_phone,\n    onChange: e => {\n      fieldHandle(e);\n    },\n    pattern: \"[0-9]{10}\",\n    title: \"Please use Number & 10 digit's Phone number!\",\n    maxLength: 10,\n    minLength: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(CustmFormField, {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 41\n    }\n  }, \"Customer City\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    required: true,\n    name: \"cust_city\",\n    value: customerState.cust_city,\n    onChange: e => {\n      fieldHandle(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"two fields\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(CustmFormField, {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 41\n    }\n  }, \"Customer Street\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    required: true,\n    name: \"cust_street\",\n    value: customerState.cust_street,\n    onChange: e => {\n      fieldHandle(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(CustmFormField, {\n    className: \"field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 41\n    }\n  }, \"Customer Zip Code\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    required: true,\n    label: \"Customer Zip Code\",\n    name: \"cust_zip\",\n    value: customerState.cust_zip,\n    onChange: e => {\n      fieldHandle(e);\n    },\n    pattern: \"[0-9]{6}\",\n    title: \"Please use Number & 6 digit's zip code!\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 41\n    }\n  }))), /*#__PURE__*/React.createElement(CustmButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"positive ui button\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 37\n    }\n  }, \"Update Customer\"))), props.addCustomer && /*#__PURE__*/React.createElement(AddUser, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 51\n    }\n  }))))));\n};","map":{"version":3,"sources":["/home/lenovo-hoolime1/Desktop/sonu 22-01-2020/React Redux Projects without npm/ledger_book/src/component/myModal/index.js"],"names":["React","useState","useEffect","useSelector","useDispatch","_","Modal","CustmFormField","CustmButton","CustmHeader","CustmModal","fun","toast","AddUser","CommanModal","props","mapState","state","dispatch","customerState","setCustomerState","clickedEmail","setClickedEmail","clickedPhone","setClickedPhone","getClickedData","JSON","parse","localStorage","getItem","cust_phone","cust_email","fieldHandle","e","preventDefault","target","name","value","submitUpdate","objectLenght","Object","keys","customerData","customer","length","checkArry","map","val","key","xyz","filter","alert","updateCustomerInitial","hideModal","success","addCustomerStatus","showModal","addCustomer","updateCustomer","cust_name","cust_city","cust_street","cust_zip"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport _ from 'lodash'\n\nimport { Modal } from 'react-bootstrap';\n\nimport {CustmFormField,CustmButton,CustmHeader,CustmModal} from './style.js'\nimport * as fun from '../../redux/actions/index'\n\nimport \"./style.css\"\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport AddUser from '../addUser/index'\n\nexport const CommanModal = (props) =>{\n    \n    const mapState = useSelector(state => state);\n    const dispatch = useDispatch();\n    \n    const [customerState, setCustomerState] = useState({});\n    const [clickedEmail, setClickedEmail] = useState('')\n    const [clickedPhone, setClickedPhone] = useState('')\n    \n    useEffect(()=>{\n        const getClickedData = JSON.parse(localStorage.getItem(\"User_Clicked__Data\")) || []\n        setCustomerState({...getClickedData})\n        setClickedPhone(getClickedData.cust_phone)\n        setClickedEmail(getClickedData.cust_email)\n    },[mapState])\n\n\n    const fieldHandle = (e) => {\n        e.preventDefault();\n        setCustomerState(\n            {...customerState,\n            [e.target.name] : e.target.value\n            }\n        )\n    }\n    \n    const submitUpdate = (e) => {\n        e.preventDefault();\n\n        const objectLenght = Object.keys(mapState.customerData.customer).length; \n        const checkArry = objectLenght > 0 && _.map(mapState.customerData.customer, (val, key) => {\n            return val\n        })\n        \n        const xyz = objectLenght > 0 && checkArry.filter((val) => {\n            if((val.cust_email === customerState.cust_email && val.cust_email !==  clickedEmail) && (val.cust_phone === customerState.cust_phone && val.cust_phone !== clickedPhone)){\n                alert(\"This Email Id & Phone number is registred already! Please use another!\")\n                return val\n            } else if(val.cust_email === customerState.cust_email && val.cust_email !==  clickedEmail){\n                alert(\"This Email Id is registred already! Please use another!\")\n                return val\n            } else if(val.cust_phone === customerState.cust_phone && val.cust_phone !== clickedPhone){\n                alert(\"This Phone Number is registred already! Please use another!\")\n                return val\n            }\n        })\n\n        if(objectLenght !== 0){\n            if(xyz.length === 0){\n                dispatch(fun.updateCustomerInitial(customerState))\n                props.hideModal();\n                toast.success(\"User Updated Successfully!\");\n            }\n        }\n    }\n    \n    useEffect(()=>{\n        props.hideModal()\n    },[mapState.customerData.addCustomerStatus])\n\n    return(\n        <div>\n            <CustmModal>\n                <Modal \n                    show={props.showModal}\n                    onHide={props.hideModal}\n                    size=\"lg\"\n                >\n                    <CustmHeader>\n                        <Modal.Header>\n                            <Modal.Title>{props.addCustomer ? 'Add Customer' : 'Update Customer'}</Modal.Title>\n                        </Modal.Header>\n                    </CustmHeader>\n                    <Modal.Body>\n                        <div>\n                            { props.updateCustomer && <form className=\"ui form\" onSubmit={submitUpdate}>\n                                <div className=\"two fields\">\n                                    <CustmFormField className=\"field\">\n                                        <label>Customer Name</label>\n                                        <input\n                                            type=\"text\"\n                                            required\n                                            name=\"cust_name\"\n                                            onChange={(e)=>{fieldHandle(e)}}\n                                            value={customerState.cust_name}\n                                        />\n                                    </CustmFormField>\n                                    <CustmFormField className=\"field\">\n                                        <label>Customer Email</label>\n                                        <input\n                                            type=\"email\"\n                                            required\n                                            name=\"cust_email\"\n                                            onChange={(e)=>{fieldHandle(e)}}\n                                            value={customerState.cust_email}\n                                        />\n                                    </CustmFormField>\n                                </div>\n                                <div className=\"two fields\">\n                                    <CustmFormField className=\"field\">\n                                        <label>Customer Phone</label>\n                                        <input\n                                            type=\"text\"\n                                            required\n                                            name=\"cust_phone\"\n                                            value={customerState.cust_phone}\n                                            onChange={(e)=>{fieldHandle(e)}}\n                                            pattern=\"[0-9]{10}\"\n                                            title=\"Please use Number & 10 digit's Phone number!\"\n                                            maxLength={10}\n                                            minLength={10}\n                                        />\n                                    </CustmFormField>\n                                    <CustmFormField className=\"field\">\n                                        <label>Customer City</label>\n                                        <input\n                                            type=\"text\"\n                                            required\n                                            name=\"cust_city\"\n                                            value={customerState.cust_city}\n                                            onChange={(e)=>{fieldHandle(e)}}\n                                        />\n                                    </CustmFormField>\n                                </div>\n                                <div className=\"two fields\">\n                                    <CustmFormField className=\"field\">\n                                        <label>Customer Street</label>\n                                        <input\n                                            type=\"text\"\n                                            required\n                                            name=\"cust_street\"\n                                            value={customerState.cust_street}\n                                            onChange={(e)=>{fieldHandle(e)}}\n                                            />\n                                    </CustmFormField>\n                                    <CustmFormField className=\"field\">\n                                        <label>Customer Zip Code</label>\n                                        <input\n                                            type=\"text\"\n                                            required\n                                            label=\"Customer Zip Code\"\n                                            name=\"cust_zip\"\n                                            value={customerState.cust_zip}\n                                            onChange={(e)=>{fieldHandle(e)}}\n                                            pattern=\"[0-9]{6}\"\n                                            title=\"Please use Number & 6 digit's zip code!\"\n                                        />\n                                    </CustmFormField>\n                                </div>\n                                <CustmButton>\n                                    <button \n                                        className=\"positive ui button\" \n                                        type=\"submit\"\n                                    >\n                                        Update Customer\n                                    </button>\n                                </CustmButton>\n                            </form>}\n                            {props.addCustomer && <AddUser />}\n                        </div>\n                    </Modal.Body>\n                </Modal>\n            </CustmModal>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}